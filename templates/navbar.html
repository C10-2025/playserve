{% load static %}
<nav class="navbar">
    <a href="{% url 'main:home' %}" class="logo">
        <img src="{% static 'image/logo.svg' %}" alt="PlayServe Logo">
    </a>

    <div class="nav-links">
        {% if user.is_authenticated %}
            <a href="#">Match Making</a>
            <a href="#">Book Courts</a>
            <a href="#">Community</a>
            <a href="#">Court Reviews</a>
        {% else %}
            <a href="{% url 'profil:login' %}">Match Making</a>
            <a href="{% url 'profil:login' %}">Book Courts</a>
            <a href="{% url 'profil:login' %}">Community</a>
            <a href="{% url 'profil:login' %}">Court Reviews</a>
        {% endif %}
    </div>

    <div class="nav-buttons">
        {% if user.is_authenticated %}
        BELUM BUAT VIEW PROFILE, INI BUAT VIEW PROFILE
            <a href="" class="user-profile-link">
                <div class="user-profile">
                    <img src="{% static profile.avatar %}" alt="Avatar" class="profile-avatar">
                    <div class="profile-info">
                        <span class="profile-username">{{ user.username }}</span>
                        <span class="profile-rank">{{ profile.rank }}</span>
                    </div>
                </div>
            </a>
        {% else %}
            <a href="{% url 'profil:login' %}" class="btn">Log In</a>
            <a href="{% url 'profil:register1' %}" class="btn btn-outline">Sign Up</a>
        {% endif %}
    </div>

    <button class="mobile-menu-button">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </button>
</nav>

<div class="mobile-menu">
    {% if user.is_authenticated %}
        <a href="#">Match Making</a>
        <a href="#">Book Courts</a>
        <a href="#">Community</a>
        <a href="#">Court Reviews</a>
    {% else %}
        <a href="{% url 'profil:login' %}">Match Making</a>
        <a href="{% url 'profil:login' %}">Book Courts</a>
        <a href="{% url 'profil:login' %}">Community</a>
        <a href="{% url 'profil:login' %}">Court Reviews</a>
    {% endif %}
    
    <hr class="mobile-menu-divider">

    {% if user.is_authenticated %}
        <a href="" class="user-profile-link-mobile">
            My Profile
        </a>
        <a href="{% url 'profil:logout' %}">Logout</a>
    {% else %}
        <a href="{% url 'profil:login' %}" class="btn">Log In</a>
        <a href="{% url 'profil:register1' %}" class="btn btn-outline">Sign Up</a>
    {% endif %}
</div>

<script>
    const mobileMenuButton = document.querySelector(".mobile-menu-button");
    const mobileMenu = document.querySelector(".mobile-menu");
  
    mobileMenuButton.addEventListener("click", () => {
      const isHidden = mobileMenu.style.display === 'none' || mobileMenu.style.display === '';
      mobileMenu.style.display = isHidden ? 'block' : 'none';
    });

    window.addEventListener('resize', () => {
        if (window.innerWidth >= 1200) { 
            mobileMenu.style.display = 'none';
        }
    });
</script>